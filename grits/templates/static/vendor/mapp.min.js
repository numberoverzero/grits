(function(){function v(a){if(!d)return null;a=a.replace(l,"$1");for(var b,m,c=0;c<d.length;c++)if(b=d[c],m=a.match(b.pattern))return{pattern:b.pattern,to:b.to,match:m};return null}function c(a,b){a=(""+(a||"")).replace(l,"$1");if(!b)return a;var c=v(a);return c?c.to:a}function n(a){p.innerHTML=a.response;return a}function q(a){return a.scriptLoadingPromise?a.scriptLoadingPromise:a.scriptLoadingPromise=new Promise(function(b){setTimeout(function(){[].slice.call(p.getElementsByTagName("script")).forEach(function(a){return window.eval(a.textContent)});
b(a)},0)})}function h(){(k[c(document.location,!0)]||function(){console.log("no page handler for "+document.location)})()}function e(a){var b=c(a,!0);return g[b]?g[b]:g[b]=new Promise(function(d,e){rq(f+"/_/"+c(a,!0),{}).then(function(a){return d({response:a.response})})["catch"](function(){return g[b]=[]._&&e()})})}function r(a){return e(a).then(function(b){history.pushState(null,"",f+"/"+c(a,!1));return b}).then(n).then(q).then(h)}var t,u,w=new Promise(function(a,b){t=a;u=b}),d=[],k={},p=document.getElementById("mapp-container"),
f=location.origin,l=new RegExp("/?^(?:"+f+")?/?(?:_/)?/?(.*)$");rq(f+"/"+c("_dynamicRoutes.json",!1),{r:"json"}).then(function(a){Object.keys(a.response).forEach(function(b){return d.push({pattern:new RegExp(b),to:a.response[b]})});t()})["catch"](function(){return u()});rq(f+"/"+c("_prefetchManifest.json",!1),{r:"json"}).then(function(a){return a.response.forEach(e)});var g={};window.addEventListener("click",function(a){var b;b=a||window.event;if(1===(null===b.which?b.button:b.which)&&!(a.metaKey||
a.ctrlKey||a.shiftKey||a.defaultPrevented)){for(b=a.target;b&&"A"!==b.nodeName;)b=b.parentNode;!b||"A"!==b.nodeName||b.hasAttribute("download")||"external"===b.getAttribute("rel")||b.target||0!==(""+(b.href||"")).indexOf(f)||(a.preventDefault(),r(b.href))}},!1);window.onpopstate=function(){e(document.location.pathname).then(n).then(q).then(h)};window.mapp={getPage:e,go:r,ready:w,onShowPage:function(a){k[c(document.location,!0)]=a;1===Object.keys(k).length?setTimeout(h,0):0}}})();
